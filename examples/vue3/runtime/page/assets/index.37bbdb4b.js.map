{"version":3,"file":"index.37bbdb4b.js","sources":["../../../../../../packages/ui/src/button/src/index.vue"],"sourcesContent":["<template>\n  <button class=\"magic-ui-button\" @click=\"clickHandler\" :style=\"style\">\n    <slot>\n      <magic-ui-text :config=\"textConfig\"></magic-ui-text>\n    </slot>\n  </button>\n</template>\n<script lang=\"ts\">\nimport { computed, defineComponent, getCurrentInstance, PropType, reactive } from 'vue';\n\nimport { MButton, MButtonInstance } from '../../../src/types';\nimport { useGetBoxShadow, useGetLinearBackGround } from '../../hooks/useGetStyle';\nimport useApp from '../../useApp';\n\nexport default defineComponent({\n  props: {\n    config: {\n      type: Object as PropType<MButton>,\n      default: () => ({}),\n    },\n\n    model: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n  setup(props) {\n    useApp(props);\n    const vm: MButtonInstance = getCurrentInstance()?.proxy as MButtonInstance;\n    const actions = reactive<Function[]>([]);\n    const actualActions = computed(() => [\n      typeof props.config.preAction === 'function' ? props.config.preAction : () => true,\n      ...actions,\n      typeof props.config.postAction === 'function' ? props.config.postAction : () => true,\n    ]);\n    function pushAction(action: Function): void {\n      actions.push(action);\n    }\n    async function clickHandler(): Promise<void> {\n      for (const fn of actualActions.value) {\n        if (typeof fn === 'function') {\n          const ret = await fn(vm, { model: props.model });\n          if (ret === false) {\n            break;\n          }\n        }\n      }\n    }\n\n    const textConfig = computed<MButton>(() => ({\n      type: 'text',\n      text: props.config?.text || '',\n      disabledText: props.config?.disabledText || '',\n      html: props.config?.html || '',\n    }));\n\n    const style = computed(() => {\n      const { boxShadowStyle } = useGetBoxShadow(props.config);\n      const { LinearBackGroundStyle } = useGetLinearBackGround(props.config);\n      const style = {\n        ...boxShadowStyle,\n        ...LinearBackGroundStyle,\n      };\n\n      return style;\n    });\n\n    return {\n      pushAction,\n      clickHandler,\n      textConfig,\n      style,\n    };\n  },\n});\n</script>\n<style lang=\"scss\">\n.magic-ui-button-out-box {\n  border: none;\n\n  .magic-ui-button {\n    width: 100%;\n    height: 100%;\n  }\n}\n</style>\n"],"names":["_sfc_main","props","useApp","vm","_a","actions","actualActions","pushAction","action","clickHandler","fn","textConfig","_b","_c","style","boxShadowStyle","useGetBoxShadow","LinearBackGroundStyle","useGetLinearBackGround","_cache","args","_ctx"],"mappings":"sIAcA,MAAeA,EAAA,IAAgB,gBAAA,CAAA,MAAA,CACtB,OAAA,CACG,KAAA,OACA,QAAA,KAAA,CAAA,EACW,EACnB,MAAA,CAEO,KAAA,OACC,QAAA,KAAA,CAAA,EACW,CACnB,EACF,MAAAC,EAAA,OAEEC,EAAAD,CAAA,EACA,MAAAE,GAA4BC,EAAA,2BAAA,YAAAA,QAC5BC,EAAgB,IAAqB,SAAA,CAAA,CAAA,EACrCC,EAAsB,kBAAe,OAAAL,EAAA,OAAA,WAAA,WAAAA,EAAA,OAAA,UAAA,IAAA,GAC2C,GAAAI,EAC3E,OAAAJ,EAAA,OAAA,YAAA,WAAAA,EAAA,OAAA,WAAA,IAAA,EAC6E,CAAA,EAElF,SAAAM,EAAAC,EAAA,CACEH,EAAA,KAAAG,CAAA,CAAmB,CAErB,eAAAC,GAAA,CACE,UAAAC,KAAAJ,EAAA,MACE,GAAA,OAAAI,GAAA,YACE,MAAAA,EAAAP,EAAA,CAAA,MAAAF,EAAA,KAAA,CAAA,IACA,GACE,KAGN,CAGF,MAAAU,EAAmB,mCAAyB,KAAA,OACpC,OAAAP,EAAAH,EAAA,SAAA,YAAAG,EAAA,OAAA,GACsB,eAAAQ,EAAAX,EAAA,SAAA,YAAAW,EAAA,eAAA,GACgB,OAAAC,EAAAZ,EAAA,SAAA,YAAAY,EAAA,OAAA,EAChB,EAAA,EAG9BC,EAAc,kBACZ,KAAA,CAAA,eAAAC,CAAA,EAAAC,EAAAf,EAAA,MAAA,EACA,CAAA,sBAAAgB,CAAA,EAAAC,EAAAjB,EAAA,MAAA,EAMA,MALA,CAAc,GAAAc,EACT,GAAAE,CACA,CAGE,CAAA,EAGT,MAAA,CAAO,WAAAV,EACL,aAAAE,EACA,WAAAE,EACA,MAAAG,CACA,CACF,CAEJ,CAAA,kCAzEE,IAIS,iBAAA,eAAA,EAJwB,OAAA,IAAA,UAAA,EAAO,IAAA,mBAAA,SAAA,CAAA,MAAA,kBAAoB,QAAAK,EAAA,KAAAA,EAAA,GAAA,IAAAC,IAAAC,EAAA,cAAAA,EAAA,aAAA,GAAAD,CAAA,SAGnD,IAAA,eAAAC,EAAA,KAAA,CAAA,EAAA"}