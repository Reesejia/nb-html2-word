{"version":3,"file":"index-legacy.b585b42c.js","sources":["../../../../../../packages/ui/src/cgauge/src/index.vue"],"sourcesContent":["<!-- Test.vue -->\n<template>\n  <div class=\"t-inline-block magic-ui-echart-module\" ref=\"refCgauge\" :style=\"style\" />\n</template>\n\n<script lang=\"ts\" setup>\nimport { onMounted, Ref, ref, shallowRef, watch } from 'vue';\nimport * as echarts from 'echarts';\n\nimport { MCGauge } from '../../types';\nimport useApp from '../../useApp';\nimport useEcharts from '../../useEcharts';\nimport useStyle from '../../useStyle';\n\nconst props = defineProps<{\n  config: MCGauge;\n  // model: Object;\n}>();\n\nuseApp(props);\n\nconst refCgauge = ref<HTMLElement | null>(null);\nconst refCharts = shallowRef<any>();\n\nconst getOption = (config: any) => {\n  const option: echarts.EChartsOption = {\n    series: [\n      {\n        type: 'gauge',\n        radius: '100%',\n        progress: {\n          show: true,\n          width: config.axisLineLineStyleWidth,\n          itemStyle: {\n            color: config.progressItemStyleColor,\n          },\n        },\n        axisLine: {\n          lineStyle: {\n            width: config.axisLineLineStyleWidth,\n            color: [[1, config.axisLineLineStyleColor]],\n          },\n        },\n        axisTick: {\n          show: config.axisTickShow,\n        },\n        splitLine: {\n          length: config.splitLineLength,\n          lineStyle: {\n            width: 2,\n            color: config.splitLineLineStyleColor,\n          },\n        },\n        axisLabel: {\n          color: config.axisLabelColor,\n          fontSize: config.axisLabelFontSize,\n        },\n        pointer: {\n          length: `${config.pointerLength}%`,\n          itemStyle: {\n            color: config.progressItemStyleColor,\n          },\n        },\n        title: {\n          show: false,\n        },\n        detail: {\n          valueAnimation: true,\n          fontSize: props.config.detailFontSize,\n          offsetCenter: [0, '70%'],\n          color: props.config.detailColor,\n        },\n        data: [props.config.data],\n      },\n    ],\n  };\n  return option;\n};\nonMounted(() => {\n  refCharts.value = useEcharts(getOption(props.config), refCgauge as Ref<HTMLElement>).value;\n\n  watch(\n    () => props.config,\n    (newVal) => {\n      const option = refCharts.value?.getOption();\n      if (!option) {\n        return;\n      }\n\n      refCharts.value.setOption(getOption(newVal));\n    },\n  );\n});\n\nconst style = useStyle(props, refCharts);\n</script>\n<style lang=\"scss\" scoped>\n.t-inline-block {\n  display: inline-block;\n}\n</style>\n"],"names":["useApp","props","refCgauge","Vue","refCharts","shallowRef","getOption","config","series","type","radius","progress","show","width","axisLineLineStyleWidth","itemStyle","color","progressItemStyleColor","axisLine","lineStyle","axisLineLineStyleColor","axisTick","axisTickShow","splitLine","length","splitLineLength","splitLineLineStyleColor","axisLabel","axisLabelColor","fontSize","axisLabelFontSize","pointer","pointerLength","title","detail","valueAnimation","detailFontSize","offsetCenter","detailColor","data","onMounted","value","useEcharts","watch","newVal","option","setOption","style","useStyle"],"mappings":"qdAmBAA,EAAAC,GAEA,MAAAC,EAAkBC,cAClBC,EAAkBD,IAAgBE,aAElCC,EAAAC,IACE,CAAsCC,OAAA,CAC5B,CACNC,KAAA,QACQC,OAAA,OACEC,SAAA,CACEC,MAAA,EACFC,MAAAN,EAAAO,uBACQC,UAAA,CACHC,MAAAT,EAAAU,yBAGbC,SAAA,CACUC,UAAA,CACGN,MAAAN,EAAAO,uBACKE,MAAA,CAAA,CAAA,EAAAT,EAAAa,2BAGlBC,SAAA,CACUT,KAAAL,EAAAe,cAEVC,UAAA,CACWC,OAAAjB,EAAAkB,gBACMN,UAAA,CACJN,MAAA,EACFG,MAAAT,EAAAmB,0BAGXC,UAAA,CACWX,MAAAT,EAAAqB,eACKC,SAAAtB,EAAAuB,mBAEhBC,QAAA,CACSP,OAAA,GAAAjB,EAAAyB,iBACWjB,UAAA,CACPC,MAAAT,EAAAU,yBAGbgB,MAAA,CACOrB,MAAA,GAEPsB,OAAA,CACQC,gBAAA,EACUN,SAAA5B,EAAAM,OAAA6B,eACOC,aAAA,CAAA,EAAA,OACArB,MAAAf,EAAAM,OAAA+B,aAEzBC,KAAA,CAAAtC,EAAAM,OAAAgC,UAORpC,IAAAqC,WAAA,KACEpC,EAAAqC,MAAAC,EAAApC,EAAAL,EAAAM,QAAAL,GAAAuC,MAEAtC,IAAAwC,OAAA,IAAA1C,EAAAM,SACcqC,IAEV,MAAAC,EAAAzC,EAAAqC,OAAAnC,YACAuC,GAIAzC,EAAAqC,MAAAK,UAAAxC,EAAAsC,GAAA,GACF,IAIJ,MAAAG,EAAAC,EAAA/C,EAAAG"}