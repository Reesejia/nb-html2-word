import{l as D}from"./commonConfig.81e6abfa.js";import{u as V}from"./useApp.8bd6dbd4.js";import{u as k,a as w}from"./useStyle.1d5c1b91.js";import{s as R,d as B,e as S}from"./util.80e82fe7.js";import{_ as I}from"./index.d2badf28.js";const O=Vue.defineComponent({__name:"index",props:{config:{type:null,required:!0}},setup(p){const o=p;V(o);const l=Vue.ref(null),i=Vue.shallowRef(),m=()=>{const{dataList:e,colors:s}=o.config.dataSourceModel,{showLabel:t,centerX:c,centerY:r,itemBorderWidth:n,itemBorderColor:a,itemBorderRadius:h,innerRadius:g,outerRadius:y}=o.config;return{series:[{type:"pie",...S({centerX:c,centerY:r,innerRadius:g,outerRadius:y}),data:e==null?void 0:e.map((v,C)=>{const[b,x]=v,u={name:b,value:x},d=s[C];return d&&(u.itemStyle={color:d}),u}),label:{show:t},labelLine:{show:t},itemStyle:{borderRadius:h||0,borderColor:a,borderWidth:n||0}}]}},f=(e,s)=>{const t=s();e.series=t.series};Vue.onMounted(()=>{const{config:e}=o,s={legend:[D(e)],tooltip:[{show:e.tooltip,trigger:"item"}],series:[]};i.value=k(s,l).value,Vue.watch(()=>o.config,(t,c={})=>{var a;const r=(a=i.value)==null?void 0:a.getOption(),n=R(t,c);B(n,r,t),n("tooltip")&&(r.tooltip[0].show=t.tooltip),f(r,m),i.value.setOption(r)},{immediate:!0})});const _=w(o,i);return(e,s)=>(Vue.openBlock(),Vue.createElementBlock("div",{class:"t-inline-block magic-ui-echart-module",ref_key:"refCpie",ref:l,style:Vue.normalizeStyle(Vue.unref(_))},null,4))}});const A=I(O,[["__scopeId","data-v-669028c4"],["__file","/Users/droden/dirs/new_banker_pro/found-pro/tmagic-editor/packages/ui/src/cpie/src/index.vue"]]);export{A as default};
//# sourceMappingURL=index.8d72da1a.js.map
