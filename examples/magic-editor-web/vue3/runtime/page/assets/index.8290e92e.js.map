{"version":3,"file":"index.8290e92e.js","sources":["../../../../../../packages/ui/src/audio/src/index.vue"],"sourcesContent":["<template>\n  <div class=\"t-inline-block\" :style=\"{ opacity: config.opacity / 100 }\">\n    <audio controls :src=\"config.src\" :autoplay=\"config.autoPlay\" ref=\"audio\"></audio>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, getCurrentInstance, onMounted, PropType, watch } from 'vue';\n\nimport { MAudio } from '../../../src/types';\nimport useApp from '../../useApp';\n\nexport default defineComponent({\n  props: {\n    config: {\n      type: Object as PropType<MAudio>,\n      default: () => ({}),\n    },\n  },\n  setup(props) {\n    let audioDom = null as any;\n    useApp(props);\n    function setLoop(value: boolean): void {\n      audioDom.loop = value;\n    }\n    function setAutoPlay(value: boolean): void {\n      value ? audioDom.play() : audioDom.pause();\n    }\n    watch(\n      () => props.config,\n      (newValue, oldValue) => {\n        oldValue.loop !== newValue.loop && setLoop(newValue.loop);\n        oldValue.autoPlay !== newValue.autoPlay && setAutoPlay(newValue.autoPlay);\n        audioDom.volume = props.config.volume / 100;\n      },\n    );\n    onMounted(() => {\n      audioDom = (getCurrentInstance()?.proxy as any).$refs.audio;\n      audioDom.volume = props.config.volume / 100;\n    });\n    return {\n      audioDom,\n    };\n  },\n});\n</script>\n<style scoped>\n.t-inline-block {\n  display: inline-block;\n}\n</style>\n"],"names":["_sfc_main","props","audioDom","useApp","setLoop","value","setAutoPlay","newValue","oldValue","_a","_sfc_render","_ctx","_cache","$props","$setup","$data","$options"],"mappings":"iFAYA,MAAeA,EAAA,IAAgB,gBAAA,CAAA,MAAA,CACtB,OAAA,CACG,KAAA,OACA,QAAA,KAAA,CAAA,EACW,CACnB,EACF,MAAAC,EAAA,CAEE,IAAAC,EAAA,KACAC,EAAAF,CAAA,EACA,SAAAG,EAAAC,EAAA,CACEH,EAAA,KAAAG,CAAgB,CAElB,SAAAC,EAAAD,EAAA,CACEA,EAAAH,EAAA,KAAA,EAAAA,EAAA,MAAA,CAAyC,CAE3C,WAAA,MAAA,IAAAD,EAAA,OACc,CAAAM,EAAAC,IAAA,CAEVA,EAAA,OAAAD,EAAA,MAAAH,EAAAG,EAAA,IAAA,EACAC,EAAA,WAAAD,EAAA,UAAAD,EAAAC,EAAA,QAAA,EACAL,EAAA,OAAAD,EAAA,OAAA,OAAA,GAAwC,CAC1C,EAEF,IAAA,UAAA,IAAA,OACEC,IAAYO,EAAA,IAAA,mBAAA,IAAA,YAAAA,EAAA,OAAA,MAAA,MACZP,EAAA,OAAAD,EAAA,OAAA,OAAA,GAAwC,CAAA,EAE1C,CAAO,SAAAC,CACL,CACF,CAEJ,CAAA,6BA3CY,SAAAQ,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,CAAwB,OAAA,IAAA,UAAA,EAAA,IAAA,mBAAA,MAAA,CAAoB,MAAA,uBAC8B,IAAA,eAAA,CAAA,QAAAL,EAAA,OAAA,QAAA,IAAA,CAAA,EAAA,iCAAlD,SAAA,GAAa,IAAAA,EAAA,OAAA,IAA4B,SAAAA,EAAA,OAAA"}