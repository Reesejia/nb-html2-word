{"version":3,"file":"index-legacy.737f9e34.js","sources":["../../../../../../packages/ui/src/audio/src/index.vue"],"sourcesContent":["<template>\n  <div class=\"t-inline-block\" :style=\"{ opacity: config.opacity / 100 }\">\n    <audio controls :src=\"config.src\" :autoplay=\"config.autoPlay\" ref=\"audio\"></audio>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, getCurrentInstance, onMounted, PropType, watch } from 'vue';\n\nimport { MAudio } from '../../../src/types';\nimport useApp from '../../useApp';\n\nexport default defineComponent({\n  props: {\n    config: {\n      type: Object as PropType<MAudio>,\n      default: () => ({}),\n    },\n  },\n  setup(props) {\n    let audioDom = null as any;\n    useApp(props);\n    function setLoop(value: boolean): void {\n      audioDom.loop = value;\n    }\n    function setAutoPlay(value: boolean): void {\n      value ? audioDom.play() : audioDom.pause();\n    }\n    watch(\n      () => props.config,\n      (newValue, oldValue) => {\n        oldValue.loop !== newValue.loop && setLoop(newValue.loop);\n        oldValue.autoPlay !== newValue.autoPlay && setAutoPlay(newValue.autoPlay);\n        audioDom.volume = props.config.volume / 100;\n      },\n    );\n    onMounted(() => {\n      audioDom = (getCurrentInstance()?.proxy as any).$refs.audio;\n      audioDom.volume = props.config.volume / 100;\n    });\n    return {\n      audioDom,\n    };\n  },\n});\n</script>\n<style scoped>\n.t-inline-block {\n  display: inline-block;\n}\n</style>\n"],"names":["_sfc_main","Vue","defineComponent","props","config","type","Object","default","setup","audioDom","useApp","watch","newValue","oldValue","value","loop","autoPlay","play","pause","setAutoPlay","volume","onMounted","getCurrentInstance","proxy","$refs","audio","_ctx","_cache","$props","$setup","$data","$options","openBlock","createElementBlock","class","normalizeStyle","opacity","controls","src","autoplay"],"mappings":"oTAYe,MAAAA,EAAAC,IAAgBC,gBAAA,CAAAC,MAAA,CACtBC,OAAA,CACGC,KAAAC,OACAC,QAAAA,KAAA,CAAA,KAGVC,MAAAL,GAEE,IAAAM,EAAA,KAoBA,OAnBAC,EAAAP,GAOAF,IAAAU,OAAA,IAAAR,EAAAC,SACc,CAAAQ,EAAAC,KAPd,IAAAC,EASID,EAAAE,OAAAH,EAAAG,OATJD,EASIF,EAAAG,KARFN,EAAAM,KAAAD,GASED,EAAAG,WAAAJ,EAAAI,UAPJ,SAAAF,GACEA,EAAAL,EAAAQ,OAAAR,EAAAS,OAAyC,CAMvCC,CAAAP,EAAAI,UACAP,EAAAW,OAAAjB,EAAAC,OAAAgB,OAAA,GAAA,IAGJnB,IAAAoB,WAAA,KACEZ,EAAYR,IAAAqB,sBAAAC,MAAAC,MAAAC,MACZhB,EAAAW,OAAAjB,EAAAC,OAAAgB,OAAA,GAAA,IAEF,CAAOX,WAEP,oDAzCQ,SAAAiB,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAwB,OAAA9B,IAAA+B,YAAA/B,IAAAgC,mBAAA,MAAA,CAAoBC,MAAA,uBAC8BjC,IAAAkC,eAAA,CAAAC,QAAAV,EAAAtB,OAAAgC,QAAA,OAAA,iCAAlDC,SAAA,GAAaC,IAAAZ,EAAAtB,OAAAkC,IAA4BC,SAAAb,EAAAtB,OAAAY"}