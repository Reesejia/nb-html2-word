import{l as C}from"./commonConfig.81e6abfa.js";import{u as D}from"./useApp.8bd6dbd4.js";import{u as V,a as k}from"./useStyle.1d5c1b91.js";import{s as w,d as I}from"./util.80e82fe7.js";import{_ as O}from"./index.d2badf28.js";const S=Vue.defineComponent({__name:"index",props:{config:{type:null,required:!0}},setup(d){const o=d;D(o);const l=Vue.ref(null),n=Vue.shallowRef(),m=()=>{const{dataList:e,colList:s,colors:t}=o.config.dataSourceModel,{sort:c,gap:r,gridTop:i,gridRight:a,gridBottom:g,gridLeft:h}=o.config;return{series:[{name:s[1].label,type:"funnel",top:i,right:a,bottom:g,left:h,sort:c,gap:Number(r),label:{show:!0,position:"inside"},data:e==null?void 0:e.map((v,y)=>{const[b,x]=v,p={name:b,value:x},u=t[y];return u&&(p.itemStyle={color:u}),p})}]}},f=(e,s)=>{const t=s();e.series=t.series};Vue.onMounted(()=>{const{config:e}=o,s={legend:[C(e)],tooltip:[{show:e.tooltip,trigger:"item"}],series:[]};n.value=V(s,l).value,Vue.watch(()=>o.config,(t,c={})=>{var a;const r=(a=n.value)==null?void 0:a.getOption(),i=w(t,c);I(i,r,t),i("tooltip")&&(r.tooltip[0].show=t.tooltip),f(r,m),n.value.setOption(r)},{immediate:!0})});const _=k(o,n);return(e,s)=>(Vue.openBlock(),Vue.createElementBlock("div",{class:"t-inline-block magic-ui-echart-module",ref_key:"refCplot",ref:l,style:Vue.normalizeStyle(Vue.unref(_))},null,4))}});const z=O(S,[["__scopeId","data-v-132dbd46"],["__file","/Users/droden/dirs/new_banker_pro/found-pro/tmagic-editor/packages/ui/src/cplot/src/index.vue"]]);export{z as default};
//# sourceMappingURL=index.1c664968.js.map
