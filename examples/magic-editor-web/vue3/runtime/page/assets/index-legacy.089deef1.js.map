{"version":3,"file":"index-legacy.089deef1.js","sources":["../../../../../../packages/ui/src/text/src/index.vue"],"sourcesContent":["<template>\n  <div class=\"text-out-box\" :style=\"style\">\n    <div :style=\"{ width: '100%', height: '100%', boxShadow: boxshadow }\">\n      <!-- 嵌套一层解决背景渐变和文字渐变冲突 -->\n      <span :text=\"displayText\" :style=\"innerStyle\" :class=\"className\" class=\"inner-box\">{{ displayText }}</span>\n    </div>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { computed, defineComponent, PropType } from 'vue';\n\nimport { MText } from '../../../src/types';\nexport default defineComponent({\n  props: {\n    config: {\n      type: Object as PropType<MText>,\n      default: () => ({}),\n    },\n\n    model: {\n      type: Object,\n      default: () => ({}),\n    },\n\n    vars: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n\n  setup(props) {\n    const className = props.config?.multiple ? 'magic-ui-text' : 'magic-ui-text magic-ui-text--single-line';\n\n    const displayText = computed(() => {\n      const divEle = document.createElement('div');\n      if (!props.config.text) {\n        return '';\n      }\n      divEle.innerHTML = (props.config.text as any) || '';\n      const ele: any = divEle.querySelectorAll('.magic-ui__dynamic-data-link');\n      // eslint-disable-next-line @typescript-eslint/prefer-for-of\n      for (let i = 0; i < ele.length; i++) {\n        const datavalue = ele[i]?.getAttribute('data-value');\n        ele[i].innerText = datavalue;\n      }\n      const emitData = divEle.innerText;\n      return emitData;\n    });\n\n    return {\n      // boxshadow\n      boxshadow: computed(() => {\n        const getBoxShadow = (val: any) =>\n          `${val.boxShadowX || 0}px ${val.boxShadowY || 0}px ${val.boxShadowBlurR || 0}px ${\n            val.boxShadowSpreadR || 0\n          }px ${val.boxShadowColor || 'rgba(0,0,0,0)'}`.replace(/n/, '');\n        return getBoxShadow(props.config);\n      }),\n      // 外框属性\n      style: computed(() => {\n        // 背景渐变色\n        let backgroundImage;\n        const { color1, color2, deg } = props?.config;\n        if (color1 && color2) {\n          backgroundImage = `linear-gradient(${deg}deg,${color1},${color2})`;\n        } else {\n          backgroundImage = '';\n        }\n        // 获取boxshdow属性\n\n        const style = {\n          textDecoration: props.config.underline ? 'underline' : 'none',\n          fontStyle: props.config.italic ? 'oblique' : 'normal',\n          backgroundImage,\n        };\n        return style;\n      }),\n      // 区分文字和文字框\n      innerStyle: computed(() => {\n        const { textDeg, textColor1, textColor2 } = props.config;\n\n        let style = {};\n        // 文字渐变色\n        if (textColor1 && textColor2) {\n          style = {\n            ...style,\n            backgroundImage: `linear-gradient(${textDeg}deg,${textColor1},${textColor2})`,\n            color: 'transparent',\n            '-webkit-background-clip': 'text',\n          };\n        }\n        //  多行文字实现省略号\n        if (props.config?.multiple) {\n          style = {\n            ...style,\n            textOverflow: 'ellipsis',\n            display: '-webkit-box',\n            overflow: 'hidden',\n            '-webkit-line-clamp': props.config?.lineClamp,\n            '-webkit-box-orient': 'vertical',\n          };\n        }\n        // 文字阴影\n        const getTextShadow = (shadowType: string) => {\n          const map: Map<string, any> = new Map([\n            ['', {}],\n            ['innerShadow1', { textShadow: '3px 3px 5px #999' }],\n            ['innerShadow2', { textShadow: '3px 3px 5px #666' }],\n            ['innerShadow3', { textShadow: '3px 3px 5px #333' }],\n            ['outShadow1', { textShadow: '-3px -3px 5px #999' }],\n            ['outShadow2', { textShadow: '-3px -3px 5px #666' }],\n            ['outShadow3', { textShadow: '-3px -3px 5px #333' }],\n            ['dropShadow1', { filter: 'drop-shadow(0px 0px 5px #999)' }],\n            ['dropShadow2', { filter: 'drop-shadow(0px 0px 5px #666)' }],\n            ['dropShadow3', { filter: 'drop-shadow(0px 0px 5px #333)' }],\n            ['3d', { textShadow: '-1px 1px #bbb,-2px 2px #bbb,-3px 3px #bbb,-4px 4px #bbb,-5px 5px #bbb' }],\n          ]);\n          return map.get(shadowType);\n        };\n        const textStyle: object = getTextShadow(props.config.textShadow);\n\n        return { ...style, ...textStyle };\n      }),\n      displayText,\n      className,\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\">\n.text-out-box {\n  display: inline-block;\n}\n</style>\n"],"names":["_sfc_main","Vue","defineComponent","props","config","type","Object","default","model","vars","setup","className","multiple","displayText","divEle","document","createElement","text","innerHTML","ele","querySelectorAll","i","length","datavalue","getAttribute","innerText","boxshadow","val","boxShadowX","boxShadowY","boxShadowBlurR","boxShadowSpreadR","boxShadowColor","replace","style","backgroundImage","color1","color2","deg","textDecoration","underline","fontStyle","italic","innerStyle","textDeg","textColor1","textColor2","color","textOverflow","display","overflow","lineClamp","textStyle","shadowType","textShadow","Map","filter","get","_ctx","_cache","$props","$setup","$data","$options","openBlock","createElementBlock","class","normalizeStyle","width","height","boxShadow","createCommentVNode","createElementVNode","normalizeClass"],"mappings":"sPAYe,MAAAA,EAAAC,IAAgBC,gBAAA,CAAAC,MAAA,CACtBC,OAAA,CACGC,KAAAC,OACAC,QAAAA,KAAA,CAAA,IAERC,MAAA,CAEOH,KAAAC,OACCC,QAAAA,KAAA,CAAA,IAERE,KAAA,CAEMJ,KAAAC,OACEC,QAAAA,MAAA,KAGVG,MAAAP,GAGE,MAAAQ,EAAAR,EAAAC,QAAAQ,SAAA,gBAAA,2CAEAC,EAAoBZ,mBAClB,MAAAa,EAAAC,SAAAC,cAAA,OACA,IAAAb,EAAAC,OAAAa,KACE,MAAA,GAEFH,EAAAI,UAAAf,EAAAC,OAAAa,MAAA,GACA,MAAAE,EAAAL,EAAAM,iBAAA,gCAEA,IAAA,IAAAC,EAAA,EAAAA,EAAAF,EAAAG,OAAAD,IAAA,CACE,MAAAE,EAAAJ,EAAAE,IAAAG,aAAA,cACAL,EAAAE,GAAAI,UAAAF,CAAmB,CAGrB,OADAT,EAAAW,SACA,IAGF,MAAA,CAAOC,UAEMzB,mBAKT,MAJA,IAAA0B,EAIAxB,EAAAC,QAJAwB,YAAA,OAAAD,EAAAE,YAAA,OAAAF,EAAAG,gBAAA,OAAAH,EAAAI,kBAAA,OAAAJ,EAAAK,gBAAA,kBAAAC,QAAA,IAAA,IAAAN,KAIA,IACDO,MAEMjC,mBAEL,IAAAkC,EACA,MAAAC,OAAAA,EAAAC,OAAAA,EAAAC,IAAAA,GAAAnC,GAAAC,OAaA,OAXE+B,EADFC,GAAAC,EACE,mBAAAC,QAAAF,KAAAC,KAEA,GAIF,CAAcE,eAAApC,EAAAC,OAAAoC,UAAA,YAAA,OAC2CC,UAAAtC,EAAAC,OAAAsC,OAAA,UAAA,SACVP,kBAG/C,IACDQ,WAEW1C,mBACV,MAAA2C,QAAAA,EAAAC,WAAAA,EAAAC,WAAAA,GAAA3C,EAAAC,OAEA,IAAA8B,EAAA,CAAA,EAEAW,GAAAC,IACEZ,EAAA,IAAQA,EACHC,gBAAA,mBAAAS,QAAAC,KAAAC,KAC6DC,MAAA,cACzD,0BAAA,SAKX5C,EAAAC,QAAAQ,WACEsB,EAAA,IAAQA,EACHc,aAAA,WACWC,QAAA,cACLC,SAAA,SACC,qBAAA/C,EAAAC,QAAA+C,UAC0B,qBAAA,aAKxC,MAgBAC,GAhBAC,EAgBAlD,EAAAC,OAAAkD,WAfE,IAAAC,IAAA,CAAsC,CAAA,GAAA,CAAA,GAC7B,CAAA,eAAA,CAAAD,WAAA,qBAC4C,CAAA,eAAA,CAAAA,WAAA,qBACA,CAAA,eAAA,CAAAA,WAAA,qBACA,CAAA,aAAA,CAAAA,WAAA,uBACA,CAAA,aAAA,CAAAA,WAAA,uBACA,CAAA,aAAA,CAAAA,WAAA,uBACA,CAAA,cAAA,CAAAE,OAAA,kCACQ,CAAA,cAAA,CAAAA,OAAA,kCACA,CAAA,cAAA,CAAAA,OAAA,kCACA,CAAA,KAAA,CAAAF,WAAA,4EAG7DG,IAAAJ,IAdFA,MAkBA,MAAA,IAAAnB,KAAAkB,EAAA,IACDvC,cACDF,YAEF,0CA5HQ,SAAA+C,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAsB,OAAA9D,IAAA+D,YAAO/D,IAAAgE,mBAAA,MAAA,CAAAC,MAAA,qBAI/BjE,IAAAkE,eAAAT,EAAAxB,QAAA,qCAFsBjC,IAAAkE,eAAA,CAAAC,MAAA,OAAAC,OAAA,OAAAC,UAAAZ,EAAAhC,aAAA,CAC1BzB,IAAAsE,mBAAA,uBAAwBtE,IAAAuE,mBAAA,OAAA,CAAUvD,KAAAyC,EAAA7C,YAAkBqB,MAAAjC,IAAAkE,eAAAT,EAAAf,YAA6CuB,MAAAjE,IAAAwE,eAAA,CAAAf,EAAA/C,UAAA"}